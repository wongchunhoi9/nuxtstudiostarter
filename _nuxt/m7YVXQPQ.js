import{B as F,x as $,C as N,b as g,D as x,e as i,i as o,g as p,t as r,E as a,z as h,F as v,G as w,f as l,J as A,w as B,h as P,K as V}from"./LtuKeQTn.js";import{_ as q}from"./SmwRjpga.js";import{u as z}from"./gWf7URIA.js";import{q as E}from"./CIvUxqrV.js";import{_ as R}from"./DlAUqK2U.js";const I={class:"mx-auto max-w-full"},L={class:"flex flex-col md:flex-row"},M={key:0,class:"ml-2 text-sm text-gray-500"},T={key:0},j={key:0},G={class:"w-full md:p-4 p-1 grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 md:gap-2"},J={class:"hidden md:block"},K={class:"text-xl font-bold mb-2"},O={class:"flex"},U={class:"text-sm text-gray-500 pr-4"},X={class:"text-sm text-gray-500"},Y={class:"text-sm text-gray-500"},H=F({__name:"index",async setup(Q){let m,y;const D=$(),{data:_}=([m,y]=N(()=>z(D.path,()=>E("RealScreenShots").order("date","DESC").all(),"$yXN5y0AwUn")),m=await m,y(),m),d=g([]),s=g({from:null,to:null}),f=g(!1);x(()=>{const c=(_.value??[]).flatMap(t=>t.tags||[]);return[...new Set(c)]});const C=x(()=>_.value?(_.value??[]).filter(t=>{if(!t.tags||!Array.isArray(t.tags))return console.warn("Post is missing tags or tags is not an array:",t),!1;const n=!d.value.length||t.tags.some(e=>d.value.includes(e)),u=(!s.value.from||new Date(t.date)>=new Date(s.value.from))&&(!s.value.to||new Date(t.date)<=new Date(s.value.to));return n&&u}):(console.warn("allPosts.value is undefined or null"),[]));function b(c){const t=new Date(c),n=t.getFullYear(),u=String(t.getMonth()+1).padStart(2,"0"),e=String(t.getDate()).padStart(2,"0");return`${n}-${u}-${e}`}const k=()=>{f.value=!f.value};return x(()=>{const c=d.value.length,t=s.value.from||s.value.to?1:0,n=c+t;return n>0?`(${n} active)`:""}),(c,t)=>{const n=V,u=q;return l(),i("div",I,[t[2]||(t[2]=o("h1",{class:"px-4 text-4xl my-4 font-bold"}," Real Screenshots 螢幕快照 ",-1)),o("div",L,[o("button",{class:"md:hidden p-2 bg-gray-200 text-gray-700 rounded mb-4",onClick:k},[o("span",null,r(a(f)?"Close Filters":" Filters"),1),a(d).length||a(s).from||a(s).to?(l(),i("span",M,[t[0]||(t[0]=h(" (Applied: ")),(l(!0),i(v,null,w(a(d),(e,S)=>(l(),i("span",{key:e},[h(r(e),1),S<a(d).length-1?(l(),i("span",T,", ")):p("",!0)]))),128)),a(s).from||a(s).to?(l(),i("span",j,r(a(s).from?`From: ${a(s).from}`:"")+" "+r(a(s).to?`To: ${a(s).to}`:""),1)):p("",!0),t[1]||(t[1]=h(") "))])):p("",!0)]),o("div",G,[(l(!0),i(v,null,w(a(C),e=>(l(),A(u,{key:e.path,to:e.path,class:"block md:mb-0"},{default:B(()=>[P(n,{loading:"lazy",src:`${e.img}`,alt:e.title,modifiers:{rotate:null},quality:"50",width:"500",class:"w-full inset-0 z-0 md:mb-2 h-36 md:h-48 object-cover"},null,8,["src","alt"]),o("div",J,[o("h2",K,r(e.title),1),o("div",O,[o("p",U,r(b(e.date)),1),o("p",X,r(e.time),1)]),o("p",Y,r(e.location),1)])]),_:2},1032,["to"]))),128))])])])}}}),at=R(H,[["__scopeId","data-v-937f6a85"]]);export{at as default};
