import{_ as P}from"./wEGyKUJf.js";import{B as R,x as V,C as w,b as x,D as h,e as d,P as q,h as C,i as o,E as a,g as v,t as l,z as y,F as D,G as b,f as c,J as E,w as z,K as I}from"./Cx9waZaV.js";import{_ as L}from"./BNQ_vIPT.js";import{u as M}from"./CR-ktZiu.js";import{q as k}from"./CG7M26TI.js";import{_ as T}from"./DlAUqK2U.js";const j={class:"container mx-auto max-w-6xl px-4"},G={class:"flex flex-col md:flex-row"},J={key:0,class:"ml-2 text-sm text-gray-500"},K={key:0},O={key:0},U={class:"w-full md:p-4 p-1 grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 md:gap-2"},X={class:"hidden md:block"},Y={class:"text-xl font-bold mb-2"},H={class:"flex"},Q={class:"text-sm text-gray-500 pr-4"},W={class:"text-sm text-gray-500"},Z={class:"text-sm text-gray-500"},tt=R({__name:"index",async setup(et){let n,f;const S=V(),{data:g}=([n,f]=w(()=>M(S.path,()=>k("RealScreenShots").order("date","DESC").all(),"$yXN5y0AwUn")),n=await n,f(),n),$=([n,f]=w(()=>k("RealScreenShots").path("/work/realscreenshots/showcase1").first()),n=await n,f(),n),m=x([]),e=x({from:null,to:null}),p=x(!1);h(()=>{const i=(g.value??[]).flatMap(t=>t.tags||[]);return[...new Set(i)]});const F=h(()=>g.value?(g.value??[]).filter(t=>{if(!t.tags||!Array.isArray(t.tags))return console.warn("Post is missing tags or tags is not an array:",t),!1;const r=!m.value.length||t.tags.some(_=>m.value.includes(_)),u=(!e.value.from||new Date(t.date)>=new Date(e.value.from))&&(!e.value.to||new Date(t.date)<=new Date(e.value.to));return r&&u}):(console.warn("allPosts.value is undefined or null"),[]));function N(i){const t=new Date(i),r=t.getFullYear(),u=String(t.getMonth()+1).padStart(2,"0"),_=String(t.getDate()).padStart(2,"0");return`${r}-${u}-${_}`}const A=()=>{p.value=!p.value};return h(()=>{const i=m.value.length,t=e.value.from||e.value.to?1:0,r=i+t;return r>0?`(${r} active)`:""}),(i,t)=>{const r=P,u=I,_=L;return c(),d("div",j,[t[2]||(t[2]=q('<h1 class="px-4 text-4xl my-4 font-bold" data-v-ca2d5c08></h1><div class="py-4" data-v-ca2d5c08><h1 class="text-4xl font-extrabold my-7" data-v-ca2d5c08>Real Screenshots 螢幕快照</h1><p class="" data-v-ca2d5c08>image image archive</p><p class="" data-v-ca2d5c08>on going from 2020</p></div>',2)),C(r,{value:a($)},null,8,["value"]),o("div",G,[o("button",{class:"md:hidden p-2 bg-gray-200 text-gray-700 rounded mb-4",onClick:A},[o("span",null,l(a(p)?"Close Filters":" Filters"),1),a(m).length||a(e).from||a(e).to?(c(),d("span",J,[t[0]||(t[0]=y(" (Applied: ")),(c(!0),d(D,null,b(a(m),(s,B)=>(c(),d("span",{key:s},[y(l(s),1),B<a(m).length-1?(c(),d("span",K,", ")):v("",!0)]))),128)),a(e).from||a(e).to?(c(),d("span",O,l(a(e).from?`From: ${a(e).from}`:"")+" "+l(a(e).to?`To: ${a(e).to}`:""),1)):v("",!0),t[1]||(t[1]=y(") "))])):v("",!0)]),o("div",U,[(c(!0),d(D,null,b(a(F),s=>(c(),E(_,{key:s.path,to:s.path,class:"block md:mb-0"},{default:z(()=>[C(u,{src:`${s.img}`,alt:s.title,modifiers:{rotate:null},quality:"50",width:"200",class:"w-full inset-0 z-0 md:mb-2 h-36 md:h-48 object-cover"},null,8,["src","alt"]),o("div",X,[o("h2",Y,l(s.title),1),o("div",H,[o("p",Q,l(N(s.date)),1),o("p",W,l(s.time),1)]),o("p",Z,l(s.location),1)])]),_:2},1032,["to"]))),128))])])])}}}),ct=T(tt,[["__scopeId","data-v-ca2d5c08"]]);export{ct as default};
