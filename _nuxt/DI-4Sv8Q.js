import{_ as R}from"./kjUApF1L.js";import{B as P,x as V,C as w,b as x,D as p,e as d,i as a,h as C,E as s,g as y,t as l,z as v,F as D,G as k,f as c,J as q,w as z,K as E}from"./7NK0TmDT.js";import{_ as I}from"./CAZIiIlS.js";import{u as L}from"./D2fbhj4h.js";import{q as b}from"./DrlpNqAH.js";import{_ as M}from"./DlAUqK2U.js";const T={class:"mx-auto max-w-full"},j={class:"flex flex-col md:flex-row"},G={key:0,class:"ml-2 text-sm text-gray-500"},J={key:0},K={key:0},O={class:"w-full md:p-4 p-1 grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 md:gap-2"},U={class:"hidden md:block"},X={class:"text-xl font-bold mb-2"},Y={class:"flex"},H={class:"text-sm text-gray-500 pr-4"},Q={class:"text-sm text-gray-500"},W={class:"text-sm text-gray-500"},Z=P({__name:"index",async setup(tt){let n,f;const S=V(),{data:g}=([n,f]=w(()=>L(S.path,()=>b("RealScreenShots").order("date","DESC").all(),"$yXN5y0AwUn")),n=await n,f(),n),$=([n,f]=w(()=>b("RealScreenShots").path("/work/realscreenshots/showcase1").first()),n=await n,f(),n),u=x([]),e=x({from:null,to:null}),h=x(!1);p(()=>{const i=(g.value??[]).flatMap(t=>t.tags||[]);return[...new Set(i)]});const F=p(()=>g.value?(g.value??[]).filter(t=>{if(!t.tags||!Array.isArray(t.tags))return console.warn("Post is missing tags or tags is not an array:",t),!1;const r=!u.value.length||t.tags.some(_=>u.value.includes(_)),m=(!e.value.from||new Date(t.date)>=new Date(e.value.from))&&(!e.value.to||new Date(t.date)<=new Date(e.value.to));return r&&m}):(console.warn("allPosts.value is undefined or null"),[]));function N(i){const t=new Date(i),r=t.getFullYear(),m=String(t.getMonth()+1).padStart(2,"0"),_=String(t.getDate()).padStart(2,"0");return`${r}-${m}-${_}`}const A=()=>{h.value=!h.value};return p(()=>{const i=u.value.length,t=e.value.from||e.value.to?1:0,r=i+t;return r>0?`(${r} active)`:""}),(i,t)=>{const r=R,m=E,_=I;return c(),d("div",T,[t[2]||(t[2]=a("h1",{class:"px-4 text-4xl my-4 font-bold"}," Real Screenshots 螢幕快照 ",-1)),C(r,{value:s($)},null,8,["value"]),a("div",j,[a("button",{class:"md:hidden p-2 bg-gray-200 text-gray-700 rounded mb-4",onClick:A},[a("span",null,l(s(h)?"Close Filters":" Filters"),1),s(u).length||s(e).from||s(e).to?(c(),d("span",G,[t[0]||(t[0]=v(" (Applied: ")),(c(!0),d(D,null,k(s(u),(o,B)=>(c(),d("span",{key:o},[v(l(o),1),B<s(u).length-1?(c(),d("span",J,", ")):y("",!0)]))),128)),s(e).from||s(e).to?(c(),d("span",K,l(s(e).from?`From: ${s(e).from}`:"")+" "+l(s(e).to?`To: ${s(e).to}`:""),1)):y("",!0),t[1]||(t[1]=v(") "))])):y("",!0)]),a("div",O,[(c(!0),d(D,null,k(s(F),o=>(c(),q(_,{key:o.path,to:o.path,class:"block md:mb-0"},{default:z(()=>[C(m,{loading:"lazy",src:`${o.img}`,alt:o.title,modifiers:{rotate:null},quality:"50",width:"500",class:"w-full inset-0 z-0 md:mb-2 h-36 md:h-48 object-cover"},null,8,["src","alt"]),a("div",U,[a("h2",X,l(o.title),1),a("div",Y,[a("p",H,l(N(o.date)),1),a("p",Q,l(o.time),1)]),a("p",W,l(o.location),1)])]),_:2},1032,["to"]))),128))])])])}}}),lt=M(Z,[["__scopeId","data-v-89d152d1"]]);export{lt as default};
