import{_ as R}from"./Dvp-TehA.js";import{B as P,x as V,C as w,b as p,D as x,e as d,i as o,h as C,E as s,g as y,t as l,z as v,F as D,G as b,f as c,J as q,w as E,K as z}from"./D9_jcJHk.js";import{_ as I}from"./B68VwcRf.js";import{u as L}from"./C_zK1X3U.js";import{q as k}from"./Bw4W2j7F.js";import{_ as M}from"./DlAUqK2U.js";const T={class:"mx-auto max-w-full"},j={class:"flex flex-col md:flex-row"},G={key:0,class:"ml-2 text-sm text-gray-500"},J={key:0},K={key:0},O={class:"w-full md:p-4 p-1 grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 md:gap-2"},U={class:"hidden md:block"},X={class:"text-xl font-bold mb-2"},Y={class:"flex"},H={class:"text-sm text-gray-500 pr-4"},Q={class:"text-sm text-gray-500"},W={class:"text-sm text-gray-500"},Z=P({__name:"index",async setup(tt){let n,f;const S=V(),{data:g}=([n,f]=w(()=>L(S.path,()=>k("RealScreenShots").order("date","DESC").all(),"$yXN5y0AwUn")),n=await n,f(),n),$=([n,f]=w(()=>k("RealScreenShots").path("/work/realscreenshots/showcase1").first()),n=await n,f(),n),u=p([]),e=p({from:null,to:null}),h=p(!1);x(()=>{const i=(g.value??[]).flatMap(t=>t.tags||[]);return[...new Set(i)]});const F=x(()=>g.value?(g.value??[]).filter(t=>{if(!t.tags||!Array.isArray(t.tags))return console.warn("Post is missing tags or tags is not an array:",t),!1;const r=!u.value.length||t.tags.some(_=>u.value.includes(_)),m=(!e.value.from||new Date(t.date)>=new Date(e.value.from))&&(!e.value.to||new Date(t.date)<=new Date(e.value.to));return r&&m}):(console.warn("allPosts.value is undefined or null"),[]));function N(i){const t=new Date(i),r=t.getFullYear(),m=String(t.getMonth()+1).padStart(2,"0"),_=String(t.getDate()).padStart(2,"0");return`${r}-${m}-${_}`}const A=()=>{h.value=!h.value};return x(()=>{const i=u.value.length,t=e.value.from||e.value.to?1:0,r=i+t;return r>0?`(${r} active)`:""}),(i,t)=>{const r=R,m=z,_=I;return c(),d("div",T,[t[3]||(t[3]=o("h1",{class:"px-4 text-4xl my-4 font-bold"}," Real Screenshots 螢幕快照 ",-1)),C(r,{value:s($)},null,8,["value"]),o("div",j,[o("button",{class:"md:hidden p-2 bg-gray-200 text-gray-700 rounded mb-4",onClick:A},[o("span",null,l(s(h)?"Close Filters":" Filters"),1),s(u).length||s(e).from||s(e).to?(c(),d("span",G,[t[0]||(t[0]=v(" (Applied: ")),(c(!0),d(D,null,b(s(u),(a,B)=>(c(),d("span",{key:a},[v(l(a),1),B<s(u).length-1?(c(),d("span",J,", ")):y("",!0)]))),128)),s(e).from||s(e).to?(c(),d("span",K,l(s(e).from?`From: ${s(e).from}`:"")+" "+l(s(e).to?`To: ${s(e).to}`:""),1)):y("",!0),t[1]||(t[1]=v(") "))])):y("",!0)]),t[2]||(t[2]=o("h1",{class:""},"photo collection ",-1)),o("div",O,[(c(!0),d(D,null,b(s(F),a=>(c(),q(_,{key:a.path,to:a.path,class:"block md:mb-0"},{default:E(()=>[C(m,{src:`${a.img}`,alt:a.title,modifiers:{rotate:null},quality:"50",width:"500",class:"w-full inset-0 z-0 md:mb-2 h-36 md:h-48 object-cover"},null,8,["src","alt"]),o("div",U,[o("h2",X,l(a.title),1),o("div",Y,[o("p",H,l(N(a.date)),1),o("p",Q,l(a.time),1)]),o("p",W,l(a.location),1)])]),_:2},1032,["to"]))),128))])])])}}}),lt=M(Z,[["__scopeId","data-v-d49ec0b1"]]);export{lt as default};
