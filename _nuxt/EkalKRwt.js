import{B as $,x as D,C as A,b as c,P as B,e as a,i as e,F as M,G as S,E as q,f as d,H as z,t as o,h as y,K as R,n as U,R as T,g as m,S as C}from"./DVONkuYC.js";import{_ as V}from"./CHe9p0uF.js";import{u as H}from"./DVrF68oV.js";import{q as O}from"./BJliaAJM.js";import{_ as P}from"./DlAUqK2U.js";const G={class:"container mx-auto px-4"},K={class:"space-y-2"},W=["onMouseenter"],Z=["onClick"],J={class:"flex"},Q={class:"relative"},X={class:"w-16 h-16 rounded-md"},Y={class:"gap-2"},ee={class:"block"},te={class:"block"},le={class:""},ne={class:"block"},se={class:"flex justify-between"},oe={class:"overflow-hidden transition-all duration-300 p-4"},ae={class:"flex flex-col md:flex-row gap-4"},de={class:"w-full md:w-1/3 aspect-square bg-gray-100 rounded-lg overflow-hidden"},ie=["src"],re={key:1,class:"w-full h-full flex items-center justify-center text-gray-400"},ue={class:"w-full md:w-1/3 relative"},ce={class:"aspect-square rounded-lg overflow-hidden"},me=["src","alt"],he={key:1,class:"w-full h-full flex items-center justify-center text-gray-400"},ve=["onClick"],_e=["onClick"],fe={key:2,class:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-3 py-1 rounded-full text-xs md:text-sm"},ge={class:"w-full md:w-1/3 space-y-4 mt-4 md:mt-0"},xe={class:"text-xl font-medium"},we={class:"text-xl font-medium"},ke={class:"space-y-2 text-sm"},pe={class:"mt-4 space-y-2 border-t pt-4"},be={class:"mt-4 border-t pt-4"},ye=$({__name:"collection",async setup(Ce){let u,h;const I=D(),{data:v}=([u,h]=A(()=>H(I.path,()=>O("LostAndFoundAnythingStore").order("customeID","ASC").all(),"$ThrrRfZ33a")),u=await u,h(),u),i=c(new Set),_=c(null),N=n=>{i.value.has(n)?i.value.delete(n):i.value.add(n),_.value=null},f=n=>{i.value.has(n)||(_.value=n)},s=c({});B(()=>v.value,n=>{n&&n.forEach(l=>{s.value[l.path]||(s.value[l.path]=0)})},{immediate:!0});const F=(n,l)=>{s.value[n]||(s.value[n]=0),s.value[n]=(s.value[n]+1)%l.length},E=(n,l)=>{s.value[n]||(s.value[n]=0),s.value[n]=s.value[n]===0?l.length-1:s.value[n]-1};return(n,l)=>{const j=R,L=V;return d(),a("div",G,[l[6]||(l[6]=e("h1",{class:"text-4xl my-8 font-black"}," Lost and Found Anything Store COLLECTION 失物萬事屋 ",-1)),l[7]||(l[7]=e("div",{class:"hidden md:grid md:grid-cols-[40px_100px_1.5fr_1fr_1fr_1fr] gap-4 py-2 px-4 bg-gray-100 font-medium text-sm"},[e("div",null,"ID"),e("div",null,"Thumb"),e("div",null,"Item Name"),e("div",null,"Found By"),e("div",null,"Location"),e("div",null,"Found Date")],-1)),e("div",K,[(d(!0),a(M,null,S(q(v),t=>{var g,x,w,k,p,b;return d(),a("div",{key:t.path,class:"border-b border-gray-500 last:border-b-0",onMouseenter:r=>f(t.path),onMouseleave:l[1]||(l[1]=r=>f(null))},[e("div",{onClick:r=>N(t.path),class:"group grid md:grid-cols-[40px_100px_1.5fr_1fr_1fr_1fr] gap-4 py-4 px-4 cursor-pointer hover:bg-relayorange/10"},[e("div",J,[e("span",null,o(t.customeID),1)]),e("div",Q,[e("div",X,[y(j,{src:((g=t.media)==null?void 0:g[0])||"/placeholder.jpg",alt:t.FoundItemNameEng,class:"w-full h-full object-contain",loading:"lazy",quality:"50",width:"100",height:"100",modifiers:{rotate:null}},null,8,["src","alt"])])]),e("div",Y,[e("span",ee,o(t.FoundItemNameEng),1),e("span",te,o(t.FoundItemNameChi),1)]),e("div",null,o(t.whoFound||"Unknown"),1),e("div",le,[e("span",ne,o(t.foundLocationEng||"Unknown"),1),e("span",null,o(t.foundLocationChi||"Unknown"),1)]),e("div",se,[e("span",null,o(t.foundDate||"Unknown"),1),(d(),a("svg",{class:U(["w-5 h-5 transform transition-transform duration-200",i.value.has(t.path)?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[2]||(l[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])],8,Z),z(e("div",oe,[e("div",ae,[e("div",de,[t.modelEmbeddedLink?(d(),a("iframe",{key:0,src:t.modelEmbeddedLink,class:"w-full h-full",allow:"autoplay; fullscreen; xr-spatial-tracking",frameborder:"0"},null,8,ie)):(d(),a("div",re," No 3D Model Available "))]),e("div",ue,[e("div",ce,[(x=t.media)!=null&&x.length?(d(),a("img",{key:0,src:(w=t.media[s.value[t.path]||0])!=null&&w.startsWith("/")?t.media[s.value[t.path]||0]:`/${t.media[s.value[t.path]||0]}`,alt:`${t.FoundItemNameEng} - Image ${(s.value[t.path]||0)+1}`,class:"w-full h-full object-contain",onError:l[0]||(l[0]=r=>r.target.src="/placeholder.jpg"),loading:"lazy"},null,40,me)):(d(),a("div",he," No Images Available "))]),((k=t.media)==null?void 0:k.length)>1?(d(),a("button",{key:0,onClick:C(r=>E(t.path,t.media),["stop"]),class:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 md:p-3 rounded-full"},l[3]||(l[3]=[e("svg",{class:"w-5 h-5 md:w-6 md:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,ve)):m("",!0),((p=t.media)==null?void 0:p.length)>1?(d(),a("button",{key:1,onClick:C(r=>F(t.path,t.media),["stop"]),class:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 md:p-3 rounded-full"},l[4]||(l[4]=[e("svg",{class:"w-5 h-5 md:w-6 md:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,_e)):m("",!0),((b=t.media)==null?void 0:b.length)>1?(d(),a("div",fe,o((s.value[t.path]||0)+1)+" / "+o(t.media.length),1)):m("",!0)]),e("div",ge,[e("h3",xe,o(t.FoundItemNameEng),1),e("h3",we,o(t.FoundItemNameChi),1),e("div",ke,[l[5]||(l[5]=e("div",{class:"grid gap-2"},null,-1)),e("div",pe,[e("p",null,o(t.size),1),e("p",null,o(t.spec1),1),e("p",null,o(t.spec2),1)]),e("div",be,[y(L,{value:t,class:"text-sm"},null,8,["value"])])])])])],512),[[T,i.value.has(t.path)]])],40,W)}),128))])])}}}),Le=P(ye,[["__scopeId","data-v-d4a3cc1c"]]);export{Le as default};
